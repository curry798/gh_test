## ubuntu 更改动态库的依赖搜索路径
```shell
export LD_LIBRARY_PATH=/usr/lib
```
## macOs 更改二进制依赖
1. 使用install_name_tool命令。该命令有两个重要参数
- -id 更改引用本身依赖
```shell
install_name_tool -id xxx（新的依赖路径） 更改的目标
```
- -change
```she
install_name_tool -change xxxx（旧的依赖路径） xxxx（新的依赖路径） 更改的目标
```
- 占位符
```shell
@executable_path:主可执行文件的完整路径
@loader_path:引用可执行文件的完整路径
@rpath:主可执行文件中设置的PRATH
```

## macOs 二进制未知开发者
- macOs在下载文件时根据mac系统的安全规则，判断来源是否可信。不可信回标记com.apple.quarantine。文件的权限中带有@符号
- 更改文件的权限，则可以正常work。
```bash
xattr -d com.apple.quarantine ${app_name}
```

## linux 更改动态二进制依赖
1. patchelf
- man doc: https://man.archlinux.org/man/extra/patchelf/patchelf.1.en
- 动态编译:可以通过patchelf更改依赖路径及依赖文件的搜索路径。(在没有使用libc特定的API接口时，该方法可以使动态编译的可执行文件在不同系统下运行)
- 下载路径: https://github.com/NixOS/patchelf

```bash
patchelf --set-rpath /lib openssl
patchelf --set-interpreter /lib/ld-musl-aarch64.so.1 openssl
patchelf --set-rpath '$ORIGIN/../lib' perl 
```